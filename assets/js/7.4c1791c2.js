(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{206:function(e,n,t){e.exports=t.p+"assets/img/moveleft.e7301437.gif"},207:function(e,n,t){e.exports=t.p+"assets/img/rpx.efb4fee4.png"},220:function(e,n,t){"use strict";t.r(n);var a=t(0),i=Object(a.a)({},(function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h4",{attrs:{id:"使用movable-area和movable-view实现列表项左滑取消收藏（其他操作同理）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用movable-area和movable-view实现列表项左滑取消收藏（其他操作同理）"}},[e._v("#")]),e._v(" 使用"),a("code",[e._v("movable-area")]),e._v("和"),a("code",[e._v("movable-view")]),e._v("实现列表项左滑取消收藏（其他操作同理）")]),e._v(" "),a("blockquote",[a("p",[e._v("效果："),a("img",{attrs:{src:t(206),alt:""}})])]),e._v(" "),a("p",[e._v("wxml：")]),e._v(" "),a("pre",[a("code",[e._v('<movable-area style="height:200rpx;width:690rpx;overflow:hidden;" \n              class="mb-20 bs-e0 br-32">\n  <movable-view style="height:200rpx;width:910rpx;" \n                x="'+e._s(e.x)+'" y="'+e._s(e.y)+'" \n                direction="horizontal"\n                catchtouchstart=\'touchStart\' \n                catchtouchend="touchEnd"\n  >\n    <view class="favourite-list">\n      <image src="/images/register-img.png"></image>\n      <view class="book-info">\n    <view class="mb-15 mxw-470 ellipse1">新版林格伦作品选集·美绘版</view>\n    <view class="fs-20 c-999 mb-10 mxw-470 ellipse1">阿斯特里德·林格伦/中国少年儿童出版社/2009-10-11</view>\n    <view class="fs-24">原价:18.00元</view>\n      </view>\n      <view class="cancel fs-24 c-fff">取消收藏</view>\n    </view>\n  </movable-view>\n</movable-area>\n')])]),e._v(" "),a("blockquote",[a("p",[e._v("文档："),a("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/component/movable-view.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://developers.weixin.qq.com/miniprogram/dev/component/movable-view.html"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("部分样式：")]),e._v(" "),a("pre",[a("code",[e._v(".favourite-list {\n  display: flex;\n  align-items: center;\n  height: 200rpx;\n  padding: 0 0 0 30rpx;\n}\n.favourite-list image {\n  width: 140rpx;\n  height: 140rpx;\n  margin-right: 20rpx;\n  border-radius: 16rpx;\n}\n.favourite-list .book-info {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n.favourite-list .cancel {\n  width:220rpx;\n  height:200rpx;\n  line-height: 200rpx;\n  margin-left: auto;\n  background:#FF7777;\n  text-align: center;\n}\n.mxw-470 {\n  max-width: 470rpx;\n}\n.ellipse1 {\n  overflow: hidden;\n  text-overflow:ellipsis;\n  white-space: nowrap;\n}\n")])]),e._v(" "),a("blockquote",[a("p",[e._v("其中的"),a("code",[e._v("margin-left: auto;")]),e._v("可以让取消收藏位于容器最右侧")])]),e._v(" "),a("p",[e._v("js：")]),e._v(" "),a("pre",[a("code",[e._v('data: {\n  x: 0,\n  y: 0\n},\ntouchStart(e) {\n  // console.log(e)\n  this.setData({\n    "startX": e.changedTouches[0].clientX,\n    "startY": e.changedTouches[0].clientY\n  });\n},\ntouchEnd(e) {\n  let endX = e.changedTouches[0].clientX;\n  let endY = e.changedTouches[0].clientY;\n  let startX = this.data.startX;\n  let startY = this.data.startY;\n  let percentage = wx.getSystemInfoSync().windowWidth / 750;\n  let x = 220 * percentage;\n  if (endX - startX > 50 && Math.abs(endY - startY) < 50) {  //右滑\n    this.setData({\n      x\n    })\n  } else if (endX - startX < -50 && Math.abs(endY - startY) < 50) {   //左滑\n    this.setData({\n      x: -x\n    })\n  } else {\n    this.setData({\n      x: 0\n    })\n  }\n},\n')])]),e._v(" "),a("blockquote",[a("p",[e._v("这里的单位需要将rpx转为px")]),e._v(" "),a("p",[e._v("rpx（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为750rpx。如在 iPhone6 上，屏幕宽度为375px，共有750个物理像素，则750rpx = 375px = 750物理像素，1rpx = 0.5px = 1物理像素。")])]),e._v(" "),a("p",[a("img",{attrs:{src:t(207),alt:""}})])])}),[],!1,null,null,null);n.default=i.exports}}]);